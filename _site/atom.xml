<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>南琦的博客</title>
 <link href="http://nanqi.github.com/atom.xml" rel="self"/>
 <link href="http://nanqi.github.com"/>
 <updated>2012-11-27T01:19:46+00:00</updated>
 <id>http://nanqi.github.com</id>
 <author>
   <name>NanQi</name>
   <email>luyu_1216@126.com</email>
 </author>

 
 <entry>
   <title>bblean备忘</title>
   <link href="http://nanqi.github.com/memo/2012/11/26/bblean"/>
   <updated>2012-11-26T00:00:00+00:00</updated>
   <id>http://nanqi.github.com/memo/2012/11/26/bblean</id>
   <content type="html">&lt;p&gt;关于bblean是什么，这里就不多介绍，参见&lt;a href=&quot;http://bb4win.sourceforge.net/bblean/&quot;&gt;bblean&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;与Chrome标题栏冲突&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;在使用bblean的首先问题就是与chrome冲突。&lt;br/&gt;
主要问题是两个标题栏的问题。&lt;br/&gt;
解决方案：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;以文本文件打开安装目录下plugins/bbLeanSkin/exclusions.rc&lt;/li&gt;
&lt;li&gt;在注释：# programs which come with their own skin:列表后增加chrome.exe&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;如下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# programs which come with their own skin:
trillian.exe
toolkit.dll
winamp.exe
Wmp.dll
chrome.exe
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;修改几个常用Win+快捷键&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;安装的bblean中自带了插件bbKeys，但是Win+E默认打开的是explorer，而常用的Win+D直接成了桌面属性。&lt;br/&gt;
我将Win+E更改为TC，而Win+D实在找不到原本的效果，只能使用Win+M（全部最小化）去代替。&lt;br/&gt;
至于使用TC，我认为既然连bblean都使用了，那么应该放弃explorer而使用TC&lt;br/&gt;
解决方案：
以本文本件打开安装目录下plugins/bbKeys/bbKeys.rc&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;KeyToGrab(E), WithModifier(Win), WithAction(ExecCommand), DoThis(tc)
KeyToGrab(D), WithModifier(Win), WithAction(ExecCommand), DoThis(@BBCore.MinimizeAll)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;应该都不是很难理解，KeyToGrab表示按键，而WithModifier表示功能键，至于后面的，也不必深究。&lt;br/&gt;
这里有个问题，在我的机子上，我早已经增加了tc的快捷命令，建议也这样做，对于一些有参数的很方便（比如说cygwin）。&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>html备忘</title>
   <link href="http://nanqi.github.com/memo/2012/11/25/html"/>
   <updated>2012-11-25T00:00:00+00:00</updated>
   <id>http://nanqi.github.com/memo/2012/11/25/html</id>
   <content type="html">&lt;p&gt;虽然自始至终，本人工作基本都未涉及WEB领域，但是WEB越来越流行却是事实，何况自己写博客，看网页都离不开WEB。&lt;br/&gt;
我曾经也一度犹豫，做C/S开发好呢，还是做B/S开发好，但既然选择了远方，就只顾风雨兼程了，别等他人都成了牛人，我还在犹豫。&lt;br/&gt;
这里记录下我在学习和使用HTML时遇到的所有问题。&lt;/p&gt;

&lt;h2&gt;更新历史：&lt;/h2&gt;

&lt;hr /&gt;

&lt;ul&gt;
&lt;li&gt;&lt;em&gt;2012-11-25&lt;/em&gt; 创建文章，如何使图片在屏幕正中间显示&lt;/li&gt;
&lt;li&gt;&lt;em&gt;2012-11-27&lt;/em&gt; 增加 关于语音输入&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Style&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;几乎整个Web开发都离不开Style问题的干扰。&lt;/p&gt;

&lt;h3&gt;如何使图片在屏幕正中间显示&lt;/h3&gt;

&lt;hr /&gt;

&lt;p&gt;这是我在做博客的404页面时碰到的问题。&lt;br/&gt;
网上随意找了个404的图片，感觉挺好，准备使用，但是随即发现，要把图片居中显示在屏幕正中间还真成了一个问题了。&lt;br/&gt;
其实很多人都发现，左右居中没问题，问题是如何上下居中。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;style type=&quot;text/css&quot;&amp;gt;
  &amp;lt;!--
    body
    {
        background-image: URL('image/404.jpg');
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed;
    }
  --&amp;gt;
&amp;lt;/style&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;这也正是我404页面所用的图片居中样式。&lt;/p&gt;

&lt;h2&gt;关于语音输入&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;img src=&quot;/image/speech.png&quot; alt=&quot;淘宝语音搜索&quot; /&gt;&lt;/p&gt;

&lt;p&gt;本来以为是很复杂的实现，没有太过在意。&lt;br/&gt;
后来发现在Chrome中有，但是IE中却没有，网上查了下，发现实现很简单，几乎只需要一句代码：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;input x-webkit-speech /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;效果如下：&lt;/p&gt;

&lt;p&gt;&lt;input x-webkit-speech /&gt;&lt;/p&gt;

&lt;p&gt;看到这段代码立刻就知道为什么在Chrome中有，但是IE中没有。是的，这只支持webkit内核浏览器。&lt;br/&gt;
关于这句代码，还有一点需要说说。&lt;br/&gt;
直接把这句代码存成html文件，然后用Chrome打开即可看到效果。&lt;br/&gt;
一个原因是html文件本来就能省略其他（当年给人演示就只放一个Button，现在有更好的），但是发现还是有很多人不知道，书本上的知识，认为一个html文件最基本的几个元素都必须得有（这个题当时我确实做过）。&lt;br/&gt;
当然，语音搜索还有几个参数可以设置，比如说限制语言种类使用&lt;code&gt;lang=&quot;zh-CN&quot;&lt;/code&gt;又如专用于搜索的参数&lt;code&gt;x-webkit-grammar=&quot;bUIltin:search&quot;&lt;/code&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>WinForm常用功能备忘</title>
   <link href="http://nanqi.github.com/memo/2012/11/22/winform"/>
   <updated>2012-11-22T00:00:00+00:00</updated>
   <id>http://nanqi.github.com/memo/2012/11/22/winform</id>
   <content type="html">&lt;h2&gt;DataGridView&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;在WinForm中，DataGridView是常用列表显示控件，也是相对复杂的一个控件，对于经常做管理软件的开发者，DataGridView也是打交道最多的一个。
这里记录本人在实际开发中使用DataGridView的一些备忘。&lt;/p&gt;

&lt;h3&gt;调整单元格样式后排序或其他方式使控件刷新而丢失样式的问题&lt;/h3&gt;

&lt;hr /&gt;

&lt;p&gt;很多软件都有这么一个需求：对于异常数据或特殊数据进行高亮显示。&lt;br/&gt;
如一个超限软件，对于超限率不同的检测车辆进行不同的颜色显示；又如某设备管理软件，对于即将维保、年检的设备进行黄色提示，对于已过维保期的设备进行红色提示等等。&lt;br/&gt;
本人在做的时候，都是在绑定数据后，循环遍历一次数据，判断某列的值是否符合某种标准，否则给予标注。&lt;/p&gt;

&lt;p&gt;以前做法：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;void BindData()
{
    //BindData...

    for(int i = 0; i &amp;lt; dataGridView1.Rows.Length; i++)
    {
        if(dataGridView.Rows[i].Cells[&quot;停用标识&quot;].Value.ToString() == &quot;启用&quot;)
        {
            dataGridView.Rows[i].Cells[&quot;停用标识&quot;].Style.BackColor = Color.Red;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;但随后发现如果点击排序，都会丢失之前设置的样式。
对于这种不是很影响功能的问题，当初我都不怎么在意，或者对于不是很需要排序功能的直接禁止其排序。（这种思想是不是很不好……）&lt;/p&gt;

&lt;p&gt;但问题终归是问题，最后还是得解决。
注册CellFormatting事件，在其中进行判断。&lt;/p&gt;

&lt;p&gt;代码如下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;void dataGridView1_CellFormatting(object sender, 
    DataGridViewCellFormattingEventArgs e)
{
    if(e.ColumnIndex = 7 &amp;amp;&amp;amp; e.Value.ToString() == &quot;启用&quot;)
    {
        e.CellStyle.BackColor = Color.Red;
    }
}
&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>WeifenLuo的DockPanel备忘</title>
   <link href="http://nanqi.github.com/memo/2012/11/22/dockpanel"/>
   <updated>2012-11-22T00:00:00+00:00</updated>
   <id>http://nanqi.github.com/memo/2012/11/22/dockpanel</id>
   <content type="html">&lt;h2&gt;如何在双击窗体浮动时自定义其窗体属性&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;一个普遍的问题，一直以来都没有去解决，觉得无伤大雅。最后还是在同事的不断催促下才琢磨着怎么弄。说来平平无奇，只是在Form上又套了一层Form。具体步骤如下：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;注册窗体DockStateChanged事件&lt;/li&gt;
&lt;li&gt;判断this.DockState为DockState.Float&lt;/li&gt;
&lt;li&gt;获取this.Parent转换成DockPane类型&lt;/li&gt;
&lt;li&gt;属性FloatWindow即为所需窗体&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;代码如下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;this.DockStateChanged += delegate
{
    if(this.DockState == WeifenLuo.WinFormsUI.Docking.DockState.Float)
    {
        DockPane dock = this.Parent as DockPane;
        Form frmFloat = dock.FloatWindow;
        frmFloat.ClientSize = new Size(800, 600);
        frmFloat.FormBorderStyle = System.Windows.Forms.FormBorderStyle.Sizable;
        frmFloat.MinimizeBox = true;
        frmFloat.MaximizeBox = true;
    }
}
&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>关于jekyll的诸多问题</title>
   <link href="http://nanqi.github.com/memo/2012/11/16/jekyll"/>
   <updated>2012-11-16T00:00:00+00:00</updated>
   <id>http://nanqi.github.com/memo/2012/11/16/jekyll</id>
   <content type="html">&lt;h3&gt;2012-11-20&lt;/h3&gt;

&lt;hr /&gt;

&lt;p&gt;category 不能为中文，每个 category 会生成一个文件夹；&lt;/p&gt;

&lt;p&gt;对于首页(index.md)中遍历site.posts时间输出问题：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{ { post.date | date_to_string } }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;输出一直都是英文，而在Archive页面发现&lt;code&gt;date_to_long_string&lt;/code&gt;字样，使用发现还是英文显示，将之替换为&lt;code&gt;date_to_short_string&lt;/code&gt;却发现有不只是日期，还有时间和时区；&lt;/p&gt;

&lt;p&gt;最后终于知道格式化方式：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{ { post.date | date: &quot;%Y-%m-%d&quot; } }
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;
</content>
 </entry>
 
 
</feed>