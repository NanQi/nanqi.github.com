webpackJsonp([1],{"+lBM":function(e,t){e.exports={_args:[["truffle-contract-schema@2.0.0","/home/nanqi/project/chain/time-capsule"]],_development:!0,_from:"truffle-contract-schema@2.0.0",_id:"truffle-contract-schema@2.0.0",_inBundle:!1,_integrity:"sha512-nLlspmu1GKDaluWksBwitHi/7Z3IpRjmBYeO9N+T1nVJD2V4IWJaptCKP1NqnPiJA+FChB7+F7pI6Br51/FtXQ==",_location:"/truffle-contract-schema",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"truffle-contract-schema@2.0.0",name:"truffle-contract-schema",escapedName:"truffle-contract-schema",rawSpec:"2.0.0",saveSpec:null,fetchSpec:"2.0.0"},_requiredBy:["/truffle-contract"],_resolved:"https://registry.npmjs.org/truffle-contract-schema/-/truffle-contract-schema-2.0.0.tgz",_spec:"2.0.0",_where:"/home/nanqi/project/chain/time-capsule",author:{name:"Tim Coulter",email:"tim.coulter@consensys.net"},bugs:{url:"https://github.com/trufflesuite/truffle-schema/issues"},dependencies:{ajv:"^5.1.1","crypto-js":"^3.1.9-1",debug:"^3.1.0"},description:"JSON schema for contract artifacts",devDependencies:{mocha:"^3.2.0",solc:"^0.4.16"},homepage:"https://github.com/trufflesuite/truffle-schema#readme",keywords:["ethereum","json","schema","contract","artifacts"],license:"MIT",main:"index.js",name:"truffle-contract-schema",repository:{type:"git",url:"git+https://github.com/trufflesuite/truffle-schema.git"},scripts:{test:"mocha"},version:"2.0.0"}},"/sXp":function(e,t){e.exports={networks:{development:{host:"127.0.0.1",port:7545,network_id:"5777"}},migrations_directory:"./migrations"}},0:function(e,t,n){e.exports=n("NHnr")},"1Jvr":function(e,t){e.exports={id:"contract-object.spec.json",$schema:"http://json-schema.org/schema#",title:"Contract Object",description:"Describes a contract consumable by Truffle, possibly including deployed instances on networks",type:"object",properties:{contractName:{allOf:[{$ref:"#/definitions/ContractName"},{description:"Name used to identify the contract",default:"Contract"}]},abi:{allOf:[{$ref:"abi.spec.json#"},{description:"Interface description returned by compiler for source"}]},bytecode:{allOf:[{$ref:"#/definitions/Bytecode"},{description:"Bytecode sent as contract-creation transaction data, with unresolved link references"}]},deployedBytecode:{allOf:[{$ref:"#/definitions/Bytecode"},{description:"On-chain deployed contract bytecode, with unresolved link references"}]},sourceMap:{allOf:[{$ref:"#/definitions/SourceMap"},{description:"Source mapping for contract-creation transaction data bytecode"}]},deployedSourceMap:{allOf:[{$ref:"#/definitions/SourceMap"},{description:"Source mapping for contract bytecode"}]},source:{$ref:"#/definitions/Source"},sourcePath:{$ref:"#/definitions/SourcePath"},ast:{$ref:"#/definitions/AST"},legacyAST:{$ref:"#/definitions/LegacyAST"},compiler:{type:"object",properties:{name:{type:"string"},version:{type:"string"}}},networks:{patternProperties:{"^[a-zA-Z0-9]+$":{$ref:"network-object.spec.json#"}},additionalProperties:!1},schemaVersion:{$ref:"#/definitions/SchemaVersion"},updatedAt:{type:"string",format:"date-time"}},required:["abi"],patternProperties:{"^x-":{anyOf:[{type:"string"},{type:"number"},{type:"object"},{type:"array"}]}},additionalProperties:!1,definitions:{ContractName:{type:"string",pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$"},Bytecode:{type:"string",pattern:"^0x0$|^0x([a-fA-F0-9]{2}|__.{38})+$"},Source:{type:"string"},SourceMap:{type:"string",examples:["315:637:1:-;;;452:55;;;;;;;-1:-1:-1;;;;;485:9:1;476:19;:8;:19;;;;;;;;;;498:5;476:27;;452:55;315:637;;;;;;;"]},SourcePath:{type:"string"},AST:{type:"object"},LegacyAST:{type:"object"},SchemaVersion:{type:"string",pattern:"[0-9]+\\.[0-9]+\\.[0-9]+"}}}},"2Ngz":function(e,t){e.exports={id:"abi.spec.json",$schema:"http://json-schema.org/schema#",title:"ABI",type:"array",items:{oneOf:[{$ref:"#/definitions/Event"},{$ref:"#/definitions/ConstructorFunction"},{$ref:"#/definitions/FallbackFunction"},{$ref:"#/definitions/NormalFunction"}]},definitions:{Name:{type:"string",pattern:"^$|^[a-zA-Z_\\$][a-zA-Z_\\$0-9]*$"},Type:{type:"string",oneOf:[{pattern:"^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?(\\[[0-9]*\\])?$"},{pattern:"^address(\\[[0-9]*\\])?$"},{pattern:"^bool(\\[[0-9]*\\])?$"},{pattern:"^u?fixed(0x8|8x0|0x16|8x8|16x0|0x24|8x16|16x8|24x0|0x32|8x24|16x16|24x8|32x0|0x40|8x32|16x24|24x16|32x8|40x0|0x48|8x40|16x32|24x24|32x16|40x8|48x0|0x56|8x48|16x40|24x32|32x24|40x16|48x8|56x0|0x64|8x56|16x48|24x40|32x32|40x24|48x16|56x8|64x0|0x72|8x64|16x56|24x48|32x40|40x32|48x24|56x16|64x8|72x0|0x80|8x72|16x64|24x56|32x48|40x40|48x32|56x24|64x16|72x8|80x0|0x88|8x80|16x72|24x64|32x56|40x48|48x40|56x32|64x24|72x16|80x8|88x0|0x96|8x88|16x80|24x72|32x64|40x56|48x48|56x40|64x32|72x24|80x16|88x8|96x0|0x104|8x96|16x88|24x80|32x72|40x64|48x56|56x48|64x40|72x32|80x24|88x16|96x8|104x0|0x112|8x104|16x96|24x88|32x80|40x72|48x64|56x56|64x48|72x40|80x32|88x24|96x16|104x8|112x0|0x120|8x112|16x104|24x96|32x88|40x80|48x72|56x64|64x56|72x48|80x40|88x32|96x24|104x16|112x8|120x0|0x128|8x120|16x112|24x104|32x96|40x88|48x80|56x72|64x64|72x56|80x48|88x40|96x32|104x24|112x16|120x8|128x0|0x136|8x128|16x120|24x112|32x104|40x96|48x88|56x80|64x72|72x64|80x56|88x48|96x40|104x32|112x24|120x16|128x8|136x0|0x144|8x136|16x128|24x120|32x112|40x104|48x96|56x88|64x80|72x72|80x64|88x56|96x48|104x40|112x32|120x24|128x16|136x8|144x0|0x152|8x144|16x136|24x128|32x120|40x112|48x104|56x96|64x88|72x80|80x72|88x64|96x56|104x48|112x40|120x32|128x24|136x16|144x8|152x0|0x160|8x152|16x144|24x136|32x128|40x120|48x112|56x104|64x96|72x88|80x80|88x72|96x64|104x56|112x48|120x40|128x32|136x24|144x16|152x8|160x0|0x168|8x160|16x152|24x144|32x136|40x128|48x120|56x112|64x104|72x96|80x88|88x80|96x72|104x64|112x56|120x48|128x40|136x32|144x24|152x16|160x8|168x0|0x176|8x168|16x160|24x152|32x144|40x136|48x128|56x120|64x112|72x104|80x96|88x88|96x80|104x72|112x64|120x56|128x48|136x40|144x32|152x24|160x16|168x8|176x0|0x184|8x176|16x168|24x160|32x152|40x144|48x136|56x128|64x120|72x112|80x104|88x96|96x88|104x80|112x72|120x64|128x56|136x48|144x40|152x32|160x24|168x16|176x8|184x0|0x192|8x184|16x176|24x168|32x160|40x152|48x144|56x136|64x128|72x120|80x112|88x104|96x96|104x88|112x80|120x72|128x64|136x56|144x48|152x40|160x32|168x24|176x16|184x8|192x0|0x200|8x192|16x184|24x176|32x168|40x160|48x152|56x144|64x136|72x128|80x120|88x112|96x104|104x96|112x88|120x80|128x72|136x64|144x56|152x48|160x40|168x32|176x24|184x16|192x8|200x0|0x208|8x200|16x192|24x184|32x176|40x168|48x160|56x152|64x144|72x136|80x128|88x120|96x112|104x104|112x96|120x88|128x80|136x72|144x64|152x56|160x48|168x40|176x32|184x24|192x16|200x8|208x0|0x216|8x208|16x200|24x192|32x184|40x176|48x168|56x160|64x152|72x144|80x136|88x128|96x120|104x112|112x104|120x96|128x88|136x80|144x72|152x64|160x56|168x48|176x40|184x32|192x24|200x16|208x8|216x0|0x224|8x216|16x208|24x200|32x192|40x184|48x176|56x168|64x160|72x152|80x144|88x136|96x128|104x120|112x112|120x104|128x96|136x88|144x80|152x72|160x64|168x56|176x48|184x40|192x32|200x24|208x16|216x8|224x0|0x232|8x224|16x216|24x208|32x200|40x192|48x184|56x176|64x168|72x160|80x152|88x144|96x136|104x128|112x120|120x112|128x104|136x96|144x88|152x80|160x72|168x64|176x56|184x48|192x40|200x32|208x24|216x16|224x8|232x0|0x240|8x232|16x224|24x216|32x208|40x200|48x192|56x184|64x176|72x168|80x160|88x152|96x144|104x136|112x128|120x120|128x112|136x104|144x96|152x88|160x80|168x72|176x64|184x56|192x48|200x40|208x32|216x24|224x16|232x8|240x0|0x248|8x240|16x232|24x224|32x216|40x208|48x200|56x192|64x184|72x176|80x168|88x160|96x152|104x144|112x136|120x128|128x120|136x112|144x104|152x96|160x88|168x80|176x72|184x64|192x56|200x48|208x40|216x32|224x24|232x16|240x8|248x0|0x256|8x248|16x240|24x232|32x224|40x216|48x208|56x200|64x192|72x184|80x176|88x168|96x160|104x152|112x144|120x136|128x128|136x120|144x112|152x104|160x96|168x88|176x80|184x72|192x64|200x56|208x48|216x40|224x32|232x24|240x16|248x8|256x0)?(\\[[0-9]*\\])?$"},{pattern:"^bytes(0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|24|25|26|27|28|29|30|31|32)(\\[[0-9]*\\])?"},{pattern:"^bytes$"},{pattern:"^function(\\[[0-9]*\\])?$"},{pattern:"^string$"}]},StateMutability:{type:"string",enum:["pure","view","nonpayable","payable"]},NormalFunction:{type:"object",properties:{type:{type:"string",enum:["function"],default:"function"},name:{$ref:"#/definitions/Name"},inputs:{type:"array",items:{$ref:"#/definitions/Parameter"}},outputs:{type:"array",items:{$ref:"#/definitions/Parameter"},default:[]},stateMutability:{$ref:"#/definitions/StateMutability"},constant:{type:"boolean"},payable:{type:"boolean",default:!1}},required:["name","inputs","constant"],additionalProperties:!1},ConstructorFunction:{type:"object",properties:{type:{type:"string",enum:["constructor"]},inputs:{type:"array",items:{$ref:"#/definitions/Parameter"}},payable:{type:"boolean",default:!1}},required:["type","inputs"],additionalProperties:!1},FallbackFunction:{type:"object",properties:{type:{type:"string",enum:["fallback"]},constant:{type:"boolean"},payable:{type:"boolean",default:!1}},required:["type"],additionalProperties:!1},Event:{type:"object",properties:{type:{type:"string",enum:["event"]},name:{$ref:"#/definitions/Name"},inputs:{type:"array",items:{$ref:"#/definitions/EventParameter"}},anonymous:{type:"boolean"}},required:["type","name","inputs","anonymous"],additionalProperties:!1},Parameter:{type:"object",properties:{name:{$ref:"#/definitions/Name"},type:{$ref:"#/definitions/Type"}},required:["name","type"]},EventParameter:{type:"object",properties:{name:{$ref:"#/definitions/Name"},type:{$ref:"#/definitions/Type"},indexed:{type:"boolean"}},required:["name","type","indexed"]}}}},"40oP":function(e,t){},"4Uwr":function(e,t,n){e.exports=n.p+"img/logo.5c6c1428.jpg"},"7+5V":function(e,t){e.exports={id:"network-object.spec.json",$schema:"http://json-schema.org/schema#",title:"Network Object",type:"object",properties:{address:{$ref:"#/definitions/Address"},transactionHash:{$ref:"#/definitions/TransactionHash"},events:{type:"object",patternProperties:{"^0x[a-fA-F0-9]{64}$":{$ref:"abi.spec.json#/definitions/Event"}},additionalProperties:!1},links:{type:"object",patternProperties:{"^[a-zA-Z_][a-zA-Z0-9_]*$":{$ref:"#/definitions/Link"}},additionalProperties:!1}},additionalProperties:!1,definitions:{Address:{type:"string",pattern:"^0x[a-fA-F0-9]{40}$"},TransactionHash:{type:"string",pattern:"^0x[a-fA-F0-9]{64}$"},Link:{type:"object",properties:{address:{$ref:"#/definitions/Address"},events:{type:"object",patternProperties:{"^0x[a-fA-F0-9]{64}$":{$ref:"abi.spec.json#/definitions/Event"}},additionalProperties:!1}}}}}},AFOn:function(e,t){},DcKj:function(e,t){},ML9H:function(e,t){e.exports={version:"0.20.5"}},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("/5sW"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("首页")]),e._v(" |\n    "),n("router-link",{attrs:{to:"/put"}},[e._v("埋下")]),e._v(" |\n    "),n("router-link",{attrs:{to:"/get"}},[e._v("挖出")]),e._v(" |\n    "),n("router-link",{attrs:{to:"/my"}},[e._v("我的")]),e._v(" |\n    "),n("router-link",{attrs:{to:"/about"}},[e._v("关于")])],1),e._v(" "),n("router-view")],1)},r=[],s=n("XyMi");function f(e){n("WUE1")}var l=null,u=!1,o=f,c=null,d=null,p=Object(s["a"])(l,i,r,u,o,c,d),m=p.exports,y=n("/ocq"),b=n("NM/j"),x=n.n(b),g=(n("y9m4"),n("/sXp")),v=n.n(g),h=n("dztg"),_=n.n(h),T=n("mojU"),C=n.n(T),V=web3.currentProvider;if("undefined"===typeof web3){var D="http://".concat(v.a.rpc.host,":").concat(v.a.rpc.port);V=new Web3.providers.HttpProvider(D)}function P(){return new Promise(function(e,t){web3.version.getNetwork(function(n,a){n&&t(n);var i={isNetworkReady:!0};switch(a){case"1":i.networkName="mainnet";break;case"2":i.networkName="deprecated Morden test network";break;case"3":i.networkName="Ropsten test network";break;case"4":i.networkName="Rinkeby test network";break;case"42":i.networkName="Kovan test network";break;case"5777":i.networkName="Ganache test network";break;default:i.isNetworkReady=!1;break}web3.network=i,e(web3)})})}function L(){return new Promise(function(e,t){web3.eth.getAccounts(function(n,a){n?t(n):e(a[0])})})}function w(){return P().then(function(e){var t=e.network.networkName,n=_()(C.a);if("Rinkeby test network"==t){var a=[{constant:!0,inputs:[],name:"dug",outputs:[{name:"code",type:"uint8"},{name:"content",type:"string"},{name:"time",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getAllCapsules",outputs:[{name:"",type:"uint256[]",value:[]}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_modulus",type:"uint256"}],name:"randMod",outputs:[{name:"",type:"uint256",value:"0"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_content",type:"string"},{name:"_tips",type:"string"},{name:"_time",type:"uint32"},{name:"_encrypt",type:"bool"}],name:"buried",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_id",type:"uint256"}],name:"getCapsuleById",outputs:[{name:"content",type:"string",value:""},{name:"tips",type:"string",value:""},{name:"createAt",type:"uint32",value:"0"},{name:"expireAt",type:"uint32",value:"0"},{name:"encrypt",type:"bool",value:!1}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"capsuleId",type:"uint256"},{indexed:!1,name:"time",type:"uint32"},{indexed:!1,name:"encrypt",type:"bool"}],name:"NewCapsule",type:"event"}],i="0xAE603d7f895310FB936F67C6607d1ed150d81EE4";return n=_()({abi:a}),n.setProvider(web3.currentProvider),n.at(i)}if("Ganache test network"==t)return n.setProvider(web3.currentProvider),n.deployed()})}web3=new Web3(V);var I=Promise.all([P(),w(),L()]),A={name:"home",data:function(){return{networkName:"None"}},created:function(){var e=this;I.then(function(t){var n=x()(t,1),a=n[0];e.networkName=a.network.networkName})}},k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("img",{attrs:{src:n("4Uwr")}}),e._v(" "),a("h2",[e._v("区块链上的时间胶囊")]),e._v(" "),a("router-link",{attrs:{to:"/about"}},[e._v("如何使用时间胶囊")]),e._v(" "),a("div",[e._v(e._s(e.networkName))])],1)},$=[],N=!1,R=null,q=null,E=null,S=Object(s["a"])(A,k,$,N,R,q,E),M=S.exports,j=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},O=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("h2",[e._v("关于时间胶囊")]),e._v(" "),n("div",{staticClass:"what"},[n("h3",[e._v("1. 什么是时间胶囊")]),e._v(" "),n("p",[e._v("时间胶囊是将现在的生活和心情记录下来，寄给遥远的未来。\n    它可以是一个预言，一篇日记，一句牢骚，一种证明，也可能只是一句“我爱你”，请发挥你的想象力使用它吧。")]),e._v(" "),n("h3",[e._v("2. 为什么要使用区块链")]),e._v(" "),n("p",[e._v("由于对未来的不可知，任何人都无法确保服务一直存在，尤其你的时间跨度可能是几年甚至几十年。\n    区块链技术让跨越时间成为可能，只要还有人使用（可自己建立节点）就永久不会消亡。\n    区块链技术的放篡改和区块的时间戳让网络世界的时间胶囊变得更完美。\n    ")]),e._v(" "),n("h3",[e._v("3. 怎么埋下时间胶囊")]),e._v(" "),n("p",[e._v("\n    项目使用以太坊智能合约开发，请使用PC版浏览器安装Metamask后操作。\n    具体教程可参考\n    "),n("a",{attrs:{href:"https://github.com/NanQi/time-capsule/wiki/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E6%97%B6%E9%97%B4%E8%83%B6%E5%9B%8A"}},[e._v("此文章")]),e._v("。\n    埋下胶囊根据存储内容长度，需要支付相应的以太坊，需要用户自行承担，\n    鉴于以太坊目前价格过高，项目暂时只支持Rinkeby测试网络，后续会逐步完善。\n    ")]),e._v(" "),n("h3",[e._v("4. 你们的域名到期了怎么办")]),e._v(" "),n("p",[e._v("\n    虽是去中心化应用（dapp），但是运行的域名和服务器依然是中心化的不假，\n    所以我们在IPFS上也部署了一个dapp，任何人都可以部署此项目。\n    项目完全\n    "),n("a",{attrs:{href:"https://github.com/NanQi/time-capsule"}},[e._v("开源")]),e._v("，并且提供技术交流服务。\n    ")]),e._v(" "),n("h3",[e._v("5. 为什么要做这个项目")]),e._v(" "),n("p",[e._v("\n    验证项目使用智能合约开发的可行性，其中会涉及私密内容上链，\n    智能合约随机数，代币经济等问题。\n    对于这个项目而言，有人可能会说对用户没有价值，\n    但是时间胶囊本身已经很贴切区块链应用层面，这个项目会一直存在。\n    ")]),e._v(" "),n("h3",[e._v("6. 你说的代币是什么")]),e._v(" "),n("p",[e._v("\n    我们会尝试在此项目中使用代币经济，会发行ERC20规范的TCC（time capsule coin），\n    用户埋下胶囊，我们前期会奖励3个TCC，挖时间胶囊需要消耗1个TCC，\n    我们还记得在微信普及时代每天打捞漂流瓶的大学生们，相信这个代币不会那么牵强。\n    ")]),e._v(" "),n("h3",[e._v("7. 我们是谁")]),e._v(" "),n("p",[e._v("\n    我们是西安慢连互联网有限公司，我们致力永久保存人类精神产品，\n    为此我们推出了多种产品，想连接跨越时间维度的我和你，\n    这个项目只是我们对区块链应用层面的一个探索，正在开发EOS版本，敬请期待。\n    ")])])])}];function B(e){n("POgF")}var F=null,U=!1,z=B,W=null,Z=null,H=Object(s["a"])(F,j,O,U,z,W,Z),J=H.exports,K=n("Av7u"),G=n.n(K),X={data:function(){return{pickerOptions1:{shortcuts:[{text:"明天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}},{text:"一年后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+31536e6),e.$emit("pick",t)}}]},pwd:"",content:"",tips:"",time:"",isEncrypt:!1}},methods:{put:function(){var e=this,t=this.content;this.isEncrypt&&(t=G.a.AES.encrypt(this.content,this.pwd).toString()),I.then(function(n){var a=x()(n,3),i=a[1],r=a[2];return i.buried(t,e.tips,e.time/1e3,e.isEncrypt,{from:r})}).then(function(){e.$notify({title:"提示",message:"你成功在区块链上埋下一颗时间胶囊"})}).catch(function(){e.$notify.error({title:"错误",message:"请检查你的网络选择，暂时只支持Rinkeby测试网"})})}}},Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"put"},[n("h2",[e._v("在区块链上埋下时间胶囊")]),e._v(" "),n("el-row",[n("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入胶囊内容"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-switch",{attrs:{"inactive-text":"公开","active-text":"加密"},model:{value:e.isEncrypt,callback:function(t){e.isEncrypt=t},expression:"isEncrypt"}})],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isEncrypt,expression:"isEncrypt"}],attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.pwd,callback:function(t){e.pwd=t},expression:"pwd"}})],1)],1),e._v(" "),n("el-row",[n("el-input",{attrs:{placeholder:"请输入未到期提示信息"},model:{value:e.tips,callback:function(t){e.tips=t},expression:"tips"}})],1),e._v(" "),n("el-row",[n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择胶囊打开的日期时间","value-format":"timestamp","picker-options":e.pickerOptions1},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),n("el-row",[n("el-button",{attrs:{type:"primary"},on:{click:e.put}},[e._v("添加胶囊")])],1)],1)},Y=[];function ee(e){n("DcKj")}var te=!1,ne=ee,ae=null,ie=null,re=Object(s["a"])(X,Q,Y,te,ne,ae,ie),se=re.exports,fe=n("oGFv"),le=n.n(fe),ue={data:function(){return{tips:"",content:""}},methods:{get:function(){var e=this;I.then(function(e){var t=x()(e,3),n=t[1],a=t[2];return n.dug({from:a})}).then(function(t){var n=parseInt(t[0]),a=t[2],i=le.a.formatTime(a);0==n?(e.tips="你挖到一个["+i+"]埋下的胶囊",e.content=t[1]):1==n?(e.tips="你挖到一个["+i+"]到期的胶囊",e.content=t[1]):2==n&&e.$notify.error({title:"错误",message:t[1]})})}}},oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"get"},[n("h2",[e._v("时间胶囊也可以当漂流瓶")]),e._v(" "),n("el-button",{attrs:{type:"success"},on:{click:e.get}},[e._v("挖一个")]),e._v(" "),n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(e.tips))])]),e._v(" "),n("el-input",{attrs:{type:"textarea",readonly:"",rows:8},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)},ce=[];function de(e){n("AFOn")}var pe=!1,me=de,ye=null,be=null,xe=Object(s["a"])(ue,oe,ce,pe,me,ye,be),ge=xe.exports,ve={data:function(){return{dialogVisible:!1,tips:"",capsuleList:[],content:""}},created:function(){var e=this;I.then(function(t){var n=x()(t,3),a=n[1],i=n[2];return a.getAllCapsules({from:i}).then(function(e){return Promise.all(e.map(function(e){return a.getCapsuleById(parseInt(e),{from:i})}))}).then(function(t){var n=1;e.capsuleList=t.filter(function(e){return 0!=e[2]}).map(function(e){var t=n++,a=e[0],i=e[1],r=le.a.formatTime(e[2]),s=le.a.formatTime(e[3]),f=e[4];return{id:t,content:a,tips:i,createAt:r,expireAt:s,encrypt:f}})})})},methods:{get:function(e){var t=this,n=this.capsuleList[e-1];n.encrypt?this.$prompt("请输入胶囊密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value,i=G.a.AES.decrypt(n.content,a);t.content=i.toString(G.a.enc.Utf8),t.dialogVisible=!0}):(this.content=n.content,this.dialogVisible=!0)}}},he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"get"},[n("h2",[e._v("时间是一种解药")]),e._v(" "),n("div",{staticClass:"content"},[n("el-table",{attrs:{data:e.capsuleList}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left"}},[n("el-form-item",{attrs:{label:"索引"}},[n("span",[e._v(e._s(t.row.id))])]),e._v(" "),n("el-form-item",{attrs:{label:"胶囊内容"}},[n("span",[e._v(e._s(t.row.content))])]),e._v(" "),n("el-form-item",{attrs:{label:"未到期提示"}},[n("span",{attrs:{title:t.row.tips}},[e._v(e._s(t.row.tips))])]),e._v(" "),n("el-form-item",{attrs:{label:"创建时间"}},[n("span",[e._v(e._s(t.row.createAt))])]),e._v(" "),n("el-form-item",{attrs:{label:"到期时间"}},[n("span",[e._v(e._s(t.row.expireAt))])]),e._v(" "),n("el-button",{attrs:{size:"small",round:""},on:{click:function(n){e.get(t.row.id)}}},[e._v("打开胶囊")])],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"索引",prop:"id"}}),e._v(" "),n("el-table-column",{attrs:{label:"创建时间",prop:"createAt"}}),e._v(" "),n("el-table-column",{attrs:{label:"到期时间",prop:"expireAt"}})],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"胶囊内容",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{attrs:{type:"textarea",readonly:"",rows:8},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)},_e=[];function Te(e){n("40oP")}var Ce=!1,Ve=Te,De=null,Pe=null,Le=Object(s["a"])(ve,he,_e,Ce,Ve,De,Pe),we=Le.exports;a["default"].use(y["a"]);var Ie=new y["a"]({routes:[{path:"/",name:"home",component:M},{path:"/put",name:"put",component:se},{path:"/get",name:"get",component:ge},{path:"/my",name:"my",component:we},{path:"/about",name:"about",component:J}]}),Ae=n("zL8q"),ke=n.n(Ae);n("tvR6");a["default"].use(ke.a),a["default"].config.productionTip=!1,new a["default"]({router:Ie,render:function(e){return e(m)}}).$mount("#app")},POgF:function(e,t){},"WK+p":function(e,t){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#",description:"Meta-schema for $data reference (JSON-schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},WUE1:function(e,t){},WjeV:function(e,t){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}}},l0jv:function(e,t){e.exports=[{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"indirectId",type:"bytes32"},{name:"value",type:"uint256"}],name:"icapTransfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"to",type:"bytes32"}],name:"deposit",outputs:[],payable:!0,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"AnonymousDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"indirectId",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"IcapTransfer",type:"event"}]},mojU:function(e,t){e.exports={contractName:"TimeCapsule",abi:[{anonymous:!1,inputs:[{indexed:!1,name:"capsuleId",type:"uint256"},{indexed:!1,name:"time",type:"uint32"},{indexed:!1,name:"encrypt",type:"bool"}],name:"NewCapsule",type:"event"},{constant:!0,inputs:[{name:"_modulus",type:"uint256"}],name:"randMod",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_content",type:"string"},{name:"_tips",type:"string"},{name:"_time",type:"uint32"},{name:"_encrypt",type:"bool"}],name:"buried",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"dug",outputs:[{name:"code",type:"uint8"},{name:"content",type:"string"},{name:"time",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_id",type:"uint256"}],name:"getCapsuleById",outputs:[{name:"content",type:"string"},{name:"tips",type:"string"},{name:"createAt",type:"uint32"},{name:"expireAt",type:"uint32"},{name:"encrypt",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getAllCapsules",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"}],bytecode:"0x60606040526000600355341561001457600080fd5b610f8c806100236000396000f30060606040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630de006d014610072578063672ea06314610120578063805553e81461018a578063a409b197146101c1578063b74886481461027b575b600080fd5b341561007d57600080fd5b6100856103b4565b604051808460ff1660ff168152602001806020018363ffffffff1663ffffffff168152602001828103825284818151815260200191508051906020019080838360005b838110156100e35780820151818401526020810190506100c8565b50505050905090810190601f1680156101105780820380516001836020036101000a031916815260200191505b5094505050505060405180910390f35b341561012b57600080fd5b610133610655565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561017657808201518184015260208101905061015b565b505050509050019250505060405180910390f35b341561019557600080fd5b6101ab6004808035906020019091905050610781565b6040518082815260200191505060405180910390f35b34156101cc57600080fd5b610279600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803563ffffffff1690602001909190803515159060200190919050506107fc565b005b341561028657600080fd5b61029c6004808035906020019091905050610a1d565b6040518080602001806020018663ffffffff1663ffffffff1681526020018563ffffffff1663ffffffff16815260200184151515158152602001838103835288818151815260200191508051906020019080838360005b8381101561030e5780820151818401526020810190506102f3565b50505050905090810190601f16801561033b5780820380516001836020036101000a031916815260200191505b50838103825287818151815260200191508051906020019080838360005b83811015610374578082015181840152602081019050610359565b50505050905090810190601f1680156103a15780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390f35b60006103be610d3a565b6000806103c9610d4e565b6103d7600080549050610781565b91506000828154811015156103e857fe5b906000526020600020906003020160a06040519081016040529081600082018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561049b5780601f106104705761010080835404028352916020019161049b565b820191906000526020600020905b81548152906001019060200180831161047e57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561053d5780601f106105125761010080835404028352916020019161053d565b820191906000526020600020905b81548152906001019060200180831161052057829003601f168201915b505050505081526020016002820160009054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020016002820160049054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020016002820160089054906101000a900460ff1615151515815250509050806080015115156106065742816060015163ffffffff1610156105e95760008160000151826040015182925081915094509450945061064e565b60018160200151826060015182925081915094509450945061064e565b600260008191506040805190810160405280600c81526020017fe58aa0e5af86e883b6e59b8a0000000000000000000000000000000000000000815250908090509450945094505b5050909192565b61065d610d98565b610665610d98565b600080600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546040518059106106b55750595b9080825280602002602001820160405250925060009150600090505b600080549050811015610778573373ffffffffffffffffffffffffffffffffffffffff166001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141561076b5780838381518110151561075457fe5b906020019060200201818152505081806001019250505b80806001019150506106d1565b82935050505090565b6000814233600354604051808481526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140182815260200193505050506040518091039020600190048115156107f457fe5b069050919050565b60006001600080548060010182816108149190610dac565b9160005260206000209060030201600060a0604051908101604052808a81526020018981526020014263ffffffff1681526020018863ffffffff1681526020018715158152509091909150600082015181600001908051906020019061087b929190610dde565b506020820151816001019080519060200190610898929190610dde565b5060408201518160020160006101000a81548163ffffffff021916908363ffffffff16021790555060608201518160020160046101000a81548163ffffffff021916908363ffffffff16021790555060808201518160020160086101000a81548160ff0219169083151502179055505050039050336001600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600081548092919060010191905055506003600081548092919060010191905055507fab58c663272e1a0733099c2074006bb8c7f7f7bb9da3cf82426317db003f5ba3818484604051808481526020018363ffffffff1663ffffffff16815260200182151515158152602001935050505060405180910390a15050505050565b610a25610d3a565b610a2d610d3a565b6000806000610a3a610d4e565b3373ffffffffffffffffffffffffffffffffffffffff166001600089815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415610cf257600087815481101515610ab057fe5b906000526020600020906003020160a06040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b635780601f10610b3857610100808354040283529160200191610b63565b820191906000526020600020905b815481529060010190602001808311610b4657829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c055780601f10610bda57610100808354040283529160200191610c05565b820191906000526020600020905b815481529060010190602001808311610be857829003601f168201915b505050505081526020016002820160009054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020016002820160049054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020016002820160089054906101000a900460ff161515151581525050905042816060015163ffffffff161015610cb7578060000151816020015182604001518360600151846080015184945083935095509550955095509550610d30565b806020015181604001518260600151836080015160206040519081016040528060008152509392919083935095509550955095509550610d30565b600080600060206040519081016040528060008152509291906020604051908101604052806000815250929190829250819150955095509550955095505b5091939590929450565b602060405190810160405280600081525090565b60a060405190810160405280610d62610e5e565b8152602001610d6f610e5e565b8152602001600063ffffffff168152602001600063ffffffff1681526020016000151581525090565b602060405190810160405280600081525090565b815481835581811511610dd957600302816003028360005260206000209182019101610dd89190610e72565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610e1f57805160ff1916838001178555610e4d565b82800160010185558215610e4d579182015b82811115610e4c578251825591602001919060010190610e31565b5b509050610e5a9190610ef3565b5090565b602060405190810160405280600081525090565b610ef091905b80821115610eec5760008082016000610e919190610f18565b600182016000610ea19190610f18565b6002820160006101000a81549063ffffffff02191690556002820160046101000a81549063ffffffff02191690556002820160086101000a81549060ff021916905550600301610e78565b5090565b90565b610f1591905b80821115610f11576000816000905550600101610ef9565b5090565b90565b50805460018160011615610100020316600290046000825580601f10610f3e5750610f5d565b601f016020900490600052602060002090810190610f5c9190610ef3565b5b505600a165627a7a723058208b0a1401b53007bdadc0d7b64ea59aeb638580500333767d8dec2c3f1c8656550029",deployedBytecode:"0x60606040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630de006d014610072578063672ea06314610120578063805553e81461018a578063a409b197146101c1578063b74886481461027b575b600080fd5b341561007d57600080fd5b6100856103b4565b604051808460ff1660ff168152602001806020018363ffffffff1663ffffffff168152602001828103825284818151815260200191508051906020019080838360005b838110156100e35780820151818401526020810190506100c8565b50505050905090810190601f1680156101105780820380516001836020036101000a031916815260200191505b5094505050505060405180910390f35b341561012b57600080fd5b610133610655565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561017657808201518184015260208101905061015b565b505050509050019250505060405180910390f35b341561019557600080fd5b6101ab6004808035906020019091905050610781565b6040518082815260200191505060405180910390f35b34156101cc57600080fd5b610279600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803563ffffffff1690602001909190803515159060200190919050506107fc565b005b341561028657600080fd5b61029c6004808035906020019091905050610a1d565b6040518080602001806020018663ffffffff1663ffffffff1681526020018563ffffffff1663ffffffff16815260200184151515158152602001838103835288818151815260200191508051906020019080838360005b8381101561030e5780820151818401526020810190506102f3565b50505050905090810190601f16801561033b5780820380516001836020036101000a031916815260200191505b50838103825287818151815260200191508051906020019080838360005b83811015610374578082015181840152602081019050610359565b50505050905090810190601f1680156103a15780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390f35b60006103be610d3a565b6000806103c9610d4e565b6103d7600080549050610781565b91506000828154811015156103e857fe5b906000526020600020906003020160a06040519081016040529081600082018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561049b5780601f106104705761010080835404028352916020019161049b565b820191906000526020600020905b81548152906001019060200180831161047e57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561053d5780601f106105125761010080835404028352916020019161053d565b820191906000526020600020905b81548152906001019060200180831161052057829003601f168201915b505050505081526020016002820160009054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020016002820160049054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020016002820160089054906101000a900460ff1615151515815250509050806080015115156106065742816060015163ffffffff1610156105e95760008160000151826040015182925081915094509450945061064e565b60018160200151826060015182925081915094509450945061064e565b600260008191506040805190810160405280600c81526020017fe58aa0e5af86e883b6e59b8a0000000000000000000000000000000000000000815250908090509450945094505b5050909192565b61065d610d98565b610665610d98565b600080600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546040518059106106b55750595b9080825280602002602001820160405250925060009150600090505b600080549050811015610778573373ffffffffffffffffffffffffffffffffffffffff166001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141561076b5780838381518110151561075457fe5b906020019060200201818152505081806001019250505b80806001019150506106d1565b82935050505090565b6000814233600354604051808481526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140182815260200193505050506040518091039020600190048115156107f457fe5b069050919050565b60006001600080548060010182816108149190610dac565b9160005260206000209060030201600060a0604051908101604052808a81526020018981526020014263ffffffff1681526020018863ffffffff1681526020018715158152509091909150600082015181600001908051906020019061087b929190610dde565b506020820151816001019080519060200190610898929190610dde565b5060408201518160020160006101000a81548163ffffffff021916908363ffffffff16021790555060608201518160020160046101000a81548163ffffffff021916908363ffffffff16021790555060808201518160020160086101000a81548160ff0219169083151502179055505050039050336001600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600081548092919060010191905055506003600081548092919060010191905055507fab58c663272e1a0733099c2074006bb8c7f7f7bb9da3cf82426317db003f5ba3818484604051808481526020018363ffffffff1663ffffffff16815260200182151515158152602001935050505060405180910390a15050505050565b610a25610d3a565b610a2d610d3a565b6000806000610a3a610d4e565b3373ffffffffffffffffffffffffffffffffffffffff166001600089815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415610cf257600087815481101515610ab057fe5b906000526020600020906003020160a06040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b635780601f10610b3857610100808354040283529160200191610b63565b820191906000526020600020905b815481529060010190602001808311610b4657829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c055780601f10610bda57610100808354040283529160200191610c05565b820191906000526020600020905b815481529060010190602001808311610be857829003601f168201915b505050505081526020016002820160009054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020016002820160049054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020016002820160089054906101000a900460ff161515151581525050905042816060015163ffffffff161015610cb7578060000151816020015182604001518360600151846080015184945083935095509550955095509550610d30565b806020015181604001518260600151836080015160206040519081016040528060008152509392919083935095509550955095509550610d30565b600080600060206040519081016040528060008152509291906020604051908101604052806000815250929190829250819150955095509550955095505b5091939590929450565b602060405190810160405280600081525090565b60a060405190810160405280610d62610e5e565b8152602001610d6f610e5e565b8152602001600063ffffffff168152602001600063ffffffff1681526020016000151581525090565b602060405190810160405280600081525090565b815481835581811511610dd957600302816003028360005260206000209182019101610dd89190610e72565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610e1f57805160ff1916838001178555610e4d565b82800160010185558215610e4d579182015b82811115610e4c578251825591602001919060010190610e31565b5b509050610e5a9190610ef3565b5090565b602060405190810160405280600081525090565b610ef091905b80821115610eec5760008082016000610e919190610f18565b600182016000610ea19190610f18565b6002820160006101000a81549063ffffffff02191690556002820160046101000a81549063ffffffff02191690556002820160086101000a81549060ff021916905550600301610e78565b5090565b90565b610f1591905b80821115610f11576000816000905550600101610ef9565b5090565b90565b50805460018160011615610100020316600290046000825580601f10610f3e5750610f5d565b601f016020900490600052602060002090810190610f5c9190610ef3565b5b505600a165627a7a723058208b0a1401b53007bdadc0d7b64ea59aeb638580500333767d8dec2c3f1c8656550029",sourceMap:"26:2466:1:-;;;505:1;488:18;;26:2466;;;;;;;;;;;;;;",deployedSourceMap:"26:2466:1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;988:524;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:2;8:100;;;99:1;94:3;90;84:5;80:1;75:3;71;64:6;52:2;49:1;45:3;40:15;;8:100;;;12:14;3:109;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2114:376:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:2;8:100;;;99:1;94:3;90;84:5;80:1;75:3;71;64:6;52:2;49:1;45:3;40:15;;8:100;;;12:14;3:109;;;;;;;;;;;;;;;;;513:136:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;655:327;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1518:590;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:2;8:100;;;99:1;94:3;90;84:5;80:1;75:3;71;64:6;52:2;49:1;45:3;40:15;;8:100;;;12:14;3:109;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1;8:100;33:3;30:1;27:2;8:100;;;99:1;94:3;90;84:5;80:1;75:3;71;64:6;52:2;49:1;45:3;40:15;;8:100;;;12:14;3:109;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;988:524:1;1024:10;1036:14;;:::i;:::-;1052:11;1118:9;1164:22;;:::i;:::-;1130:24;1138:8;:15;;;;1130:7;:24::i;:::-;1118:36;;1189:8;1198:4;1189:14;;;;;;;;;;;;;;;;;;;;1164:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1218:7;:15;;;1217:16;1213:293;;;1272:3;1253:7;:16;;;:22;;;1249:187;;;1303:1;1306:7;:15;;;1323:7;:16;;;1295:45;;;;;;;;;;;;;;1249:187;1387:1;1390:7;:12;;;1404:7;:16;;;1379:42;;;;;;;;;;;;;;1213:293;1474:1;1493;1466:29;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;988:524;;;;;;:::o;2114:376::-;2160:6;;:::i;:::-;2178:20;;:::i;:::-;2252:12;2283:6;2212:17;:29;2230:10;2212:29;;;;;;;;;;;;;;;;2201:41;;;;;;;;;;;;;;;;;;;;;;;;2178:64;;2267:1;2252:16;;2292:1;2283:10;;2278:183;2299:8;:15;;;;2295:1;:19;2278:183;;;2360:10;2339:31;;:14;:17;2354:1;2339:17;;;;;;;;;;;;;;;;;;;;;:31;;;2335:116;;;2408:1;2390:6;2397:7;2390:15;;;;;;;;;;;;;;;;;:19;;;;;2427:9;;;;;;;2335:116;2316:3;;;;;;;2278:183;;;2477:6;2470:13;;2114:376;;;;:::o;513:136::-;565:4;634:8;603:3;608:10;620:9;;593:37;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;588:43;;;:54;;;;;;;;581:61;;513:136;;;:::o;655:327::-;748:7;830:1;758:8;:69;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;772:54;;;;;;;;;780:8;772:54;;;;790:5;772:54;;;;804:3;772:54;;;;;;810:5;772:54;;;;;;817:8;772:54;;;;;758:69;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:73;748:83;;862:10;841:14;:18;856:2;841:18;;;;;;;;;;;;:31;;;;;;;;;;;;;;;;;;882:17;:29;900:10;882:29;;;;;;;;;;;;;;;;:31;;;;;;;;;;;;;923:9;;:11;;;;;;;;;;;;;944:31;955:2;959:5;966:8;944:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;655:327;;;;;:::o;1518:590::-;1572:14;;:::i;:::-;1588:11;;:::i;:::-;1601:15;1618;1635:12;1712:22;;:::i;:::-;1686:10;1663:33;;:14;:19;1678:3;1663:19;;;;;;;;;;;;;;;;;;;;;:33;;;1659:443;;;1737:8;1746:3;1737:13;;;;;;;;;;;;;;;;;;;;1712:38;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1787:3;1768:7;:16;;;:22;;;1764:269;;;1818:7;:15;;;1835:7;:12;;;1849:7;:16;;;1867:7;:16;;;1885:7;:15;;;1810:91;;;;;;;;;;;;;;;;;;1764:269;1952:7;:12;;;1966:7;:16;;;1984:7;:16;;;2002:7;:15;;;1940:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1659:443;2079:1;2082;2085:5;2063:28;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1518:590;;;;;;;;;:::o;26:2466::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o",source:'pragma solidity ^0.4.18;\n\ncontract TimeCapsule {\n\n    event NewCapsule(uint capsuleId, uint32 time, bool encrypt);\n\n    struct Capsule {\n        string content; //胶囊内容\n        string tips; //未到期提示\n        uint32 createAt; //创建时间\n        uint32 expireAt; //到期时间\n        bool encrypt; //是否加密\n    }\n\n    Capsule[] private capsules;\n\n    mapping (uint => address) private capsuleToOwner;\n    mapping (address => uint) private ownerCapsuleCount;\n\n    uint randNonce = 0;\n\n    function randMod(uint _modulus) public view returns(uint) {\n        return uint(keccak256(now, msg.sender, randNonce)) % _modulus;\n    }\n\n    function buried(string _content, string _tips, uint32 _time, bool _encrypt) public {\n        uint id = capsules.push(Capsule(_content, _tips, uint32(now), _time, _encrypt)) - 1;\n        capsuleToOwner[id] = msg.sender;\n        ownerCapsuleCount[msg.sender]++;\n        randNonce++;\n        NewCapsule(id, _time, _encrypt);\n    }\n\n    function dug() public view returns (uint8 code, string content, uint32 time) {\n        // require(capsules.length == 0);\n\n        uint rand = randMod(capsules.length);\n        Capsule memory capsule = capsules[rand];\n        if (!capsule.encrypt) {\n            if (capsule.expireAt < now) {\n                return (0, capsule.content, capsule.createAt);\n            } else {\n                return (1, capsule.tips, capsule.expireAt);\n            }\n        } else {\n            return (2, "加密胶囊", 0);\n        }\n    }\n\n    function getCapsuleById(uint _id) public view returns(string content, string tips, uint32 createAt, uint32 expireAt, bool encrypt) {\n        if (capsuleToOwner[_id] == msg.sender) {\n            Capsule memory capsule = capsules[_id];\n            if (capsule.expireAt < now) {\n                return (capsule.content, capsule.tips, capsule.createAt, capsule.expireAt, capsule.encrypt);\n            } else {\n                return ("", capsule.tips, capsule.createAt, capsule.expireAt, capsule.encrypt);\n            }\n        } else {\n            return ("", "", 0, 0, false);\n        }\n    }\n\n    function getAllCapsules() public view returns(uint[]) {\n        uint[] memory result = new uint[](ownerCapsuleCount[msg.sender]);\n        uint counter = 0;\n        for (uint i = 0; i < capsules.length; i++) {\n            if (capsuleToOwner[i] == msg.sender) {\n                result[counter] = i;\n                counter++;\n            }\n        }\n        return result;\n    }\n}\n',sourcePath:"/home/nanqi/project/chain/time-capsule/contracts/TimeCapsule.sol",ast:{attributes:{absolutePath:"/home/nanqi/project/chain/time-capsule/contracts/TimeCapsule.sol",exportedSymbols:{TimeCapsule:[341]}},children:[{attributes:{literals:["solidity","^","0.4",".18"]},id:58,name:"PragmaDirective",src:"0:24:1"},{attributes:{baseContracts:[null],contractDependencies:[null],contractKind:"contract",documentation:null,fullyImplemented:!0,linearizedBaseContracts:[341],name:"TimeCapsule",scope:342},children:[{attributes:{anonymous:!1,name:"NewCapsule"},children:[{children:[{attributes:{constant:!1,indexed:!1,name:"capsuleId",scope:66,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint",type:"uint256"},id:59,name:"ElementaryTypeName",src:"71:4:1"}],id:60,name:"VariableDeclaration",src:"71:14:1"},{attributes:{constant:!1,indexed:!1,name:"time",scope:66,stateVariable:!1,storageLocation:"default",type:"uint32",value:null,visibility:"internal"},children:[{attributes:{name:"uint32",type:"uint32"},id:61,name:"ElementaryTypeName",src:"87:6:1"}],id:62,name:"VariableDeclaration",src:"87:11:1"},{attributes:{constant:!1,indexed:!1,name:"encrypt",scope:66,stateVariable:!1,storageLocation:"default",type:"bool",value:null,visibility:"internal"},children:[{attributes:{name:"bool",type:"bool"},id:63,name:"ElementaryTypeName",src:"100:4:1"}],id:64,name:"VariableDeclaration",src:"100:12:1"}],id:65,name:"ParameterList",src:"70:43:1"}],id:66,name:"EventDefinition",src:"54:60:1"},{attributes:{canonicalName:"TimeCapsule.Capsule",name:"Capsule",scope:341,visibility:"public"},children:[{attributes:{constant:!1,name:"content",scope:77,stateVariable:!1,storageLocation:"default",type:"string storage pointer",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string storage pointer"},id:67,name:"ElementaryTypeName",src:"145:6:1"}],id:68,name:"VariableDeclaration",src:"145:14:1"},{attributes:{constant:!1,name:"tips",scope:77,stateVariable:!1,storageLocation:"default",type:"string storage pointer",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string storage pointer"},id:69,name:"ElementaryTypeName",src:"184:6:1"}],id:70,name:"VariableDeclaration",src:"184:11:1"},{attributes:{constant:!1,name:"createAt",scope:77,stateVariable:!1,storageLocation:"default",type:"uint32",value:null,visibility:"internal"},children:[{attributes:{name:"uint32",type:"uint32"},id:71,name:"ElementaryTypeName",src:"223:6:1"}],id:72,name:"VariableDeclaration",src:"223:15:1"},{attributes:{constant:!1,name:"expireAt",scope:77,stateVariable:!1,storageLocation:"default",type:"uint32",value:null,visibility:"internal"},children:[{attributes:{name:"uint32",type:"uint32"},id:73,name:"ElementaryTypeName",src:"263:6:1"}],id:74,name:"VariableDeclaration",src:"263:15:1"},{attributes:{constant:!1,name:"encrypt",scope:77,stateVariable:!1,storageLocation:"default",type:"bool",value:null,visibility:"internal"},children:[{attributes:{name:"bool",type:"bool"},id:75,name:"ElementaryTypeName",src:"303:4:1"}],id:76,name:"VariableDeclaration",src:"303:12:1"}],id:77,name:"StructDefinition",src:"120:217:1"},{attributes:{constant:!1,name:"capsules",scope:341,stateVariable:!0,storageLocation:"default",type:"struct TimeCapsule.Capsule storage ref[] storage ref",value:null,visibility:"private"},children:[{attributes:{length:null,type:"struct TimeCapsule.Capsule storage ref[] storage pointer"},children:[{attributes:{contractScope:null,name:"Capsule",referencedDeclaration:77,type:"struct TimeCapsule.Capsule storage pointer"},id:78,name:"UserDefinedTypeName",src:"343:7:1"}],id:79,name:"ArrayTypeName",src:"343:9:1"}],id:80,name:"VariableDeclaration",src:"343:26:1"},{attributes:{constant:!1,name:"capsuleToOwner",scope:341,stateVariable:!0,storageLocation:"default",type:"mapping(uint256 => address)",value:null,visibility:"private"},children:[{attributes:{type:"mapping(uint256 => address)"},children:[{attributes:{name:"uint",type:"uint256"},id:81,name:"ElementaryTypeName",src:"385:4:1"},{attributes:{name:"address",type:"address"},id:82,name:"ElementaryTypeName",src:"393:7:1"}],id:83,name:"Mapping",src:"376:25:1"}],id:84,name:"VariableDeclaration",src:"376:48:1"},{attributes:{constant:!1,name:"ownerCapsuleCount",scope:341,stateVariable:!0,storageLocation:"default",type:"mapping(address => uint256)",value:null,visibility:"private"},children:[{attributes:{type:"mapping(address => uint256)"},children:[{attributes:{name:"address",type:"address"},id:85,name:"ElementaryTypeName",src:"439:7:1"},{attributes:{name:"uint",type:"uint256"},id:86,name:"ElementaryTypeName",src:"450:4:1"}],id:87,name:"Mapping",src:"430:25:1"}],id:88,name:"VariableDeclaration",src:"430:51:1"},{attributes:{constant:!1,name:"randNonce",scope:341,stateVariable:!0,storageLocation:"default",type:"uint256",visibility:"internal"},children:[{attributes:{name:"uint",type:"uint256"},id:89,name:"ElementaryTypeName",src:"488:4:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:90,name:"Literal",src:"505:1:1"}],id:91,name:"VariableDeclaration",src:"488:18:1"},{attributes:{constant:!0,implemented:!0,isConstructor:!1,modifiers:[null],name:"randMod",payable:!1,scope:341,stateMutability:"view",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"_modulus",scope:110,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint",type:"uint256"},id:92,name:"ElementaryTypeName",src:"530:4:1"}],id:93,name:"VariableDeclaration",src:"530:13:1"}],id:94,name:"ParameterList",src:"529:15:1"},{children:[{attributes:{constant:!1,name:"",scope:110,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint",type:"uint256"},id:95,name:"ElementaryTypeName",src:"565:4:1"}],id:96,name:"VariableDeclaration",src:"565:4:1"}],id:97,name:"ParameterList",src:"564:6:1"},{children:[{attributes:{functionReturnParameters:97},children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"%",type:"uint256"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"uint256",type_conversion:!0},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"type(uint256)",value:"uint"},id:98,name:"ElementaryTypeNameExpression",src:"588:4:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"bytes32",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],overloadedDeclarations:[null],referencedDeclaration:347,type:"function () pure returns (bytes32)",value:"keccak256"},id:99,name:"Identifier",src:"593:9:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:355,type:"uint256",value:"now"},id:100,name:"Identifier",src:"603:3:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:353,type:"msg",value:"msg"},id:101,name:"Identifier",src:"608:3:1"}],id:102,name:"MemberAccess",src:"608:10:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:91,type:"uint256",value:"randNonce"},id:103,name:"Identifier",src:"620:9:1"}],id:104,name:"FunctionCall",src:"593:37:1"}],id:105,name:"FunctionCall",src:"588:43:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:93,type:"uint256",value:"_modulus"},id:106,name:"Identifier",src:"634:8:1"}],id:107,name:"BinaryOperation",src:"588:54:1"}],id:108,name:"Return",src:"581:61:1"}],id:109,name:"Block",src:"571:78:1"}],id:110,name:"FunctionDefinition",src:"513:136:1"},{attributes:{constant:!1,implemented:!0,isConstructor:!1,modifiers:[null],name:"buried",payable:!1,scope:341,stateMutability:"nonpayable",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"_content",scope:161,stateVariable:!1,storageLocation:"default",type:"string memory",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string storage pointer"},id:111,name:"ElementaryTypeName",src:"671:6:1"}],id:112,name:"VariableDeclaration",src:"671:15:1"},{attributes:{constant:!1,name:"_tips",scope:161,stateVariable:!1,storageLocation:"default",type:"string memory",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string storage pointer"},id:113,name:"ElementaryTypeName",src:"688:6:1"}],id:114,name:"VariableDeclaration",src:"688:12:1"},{attributes:{constant:!1,name:"_time",scope:161,stateVariable:!1,storageLocation:"default",type:"uint32",value:null,visibility:"internal"},children:[{attributes:{name:"uint32",type:"uint32"},id:115,name:"ElementaryTypeName",src:"702:6:1"}],id:116,name:"VariableDeclaration",src:"702:12:1"},{attributes:{constant:!1,name:"_encrypt",scope:161,stateVariable:!1,storageLocation:"default",type:"bool",value:null,visibility:"internal"},children:[{attributes:{name:"bool",type:"bool"},id:117,name:"ElementaryTypeName",src:"716:4:1"}],id:118,name:"VariableDeclaration",src:"716:13:1"}],id:119,name:"ParameterList",src:"670:60:1"},{attributes:{parameters:[null]},children:[],id:120,name:"ParameterList",src:"738:0:1"},{children:[{attributes:{assignments:[122]},children:[{attributes:{constant:!1,name:"id",scope:161,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint",type:"uint256"},id:121,name:"ElementaryTypeName",src:"748:4:1"}],id:122,name:"VariableDeclaration",src:"748:7:1"},{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"-",type:"uint256"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"uint256",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_struct$_Capsule_$77_memory",typeString:"struct TimeCapsule.Capsule memory"}],isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"push",referencedDeclaration:null,type:"function (struct TimeCapsule.Capsule storage ref) returns (uint256)"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:80,type:"struct TimeCapsule.Capsule storage ref[] storage ref",value:"capsules"},id:123,name:"Identifier",src:"758:8:1"}],id:124,name:"MemberAccess",src:"758:13:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!0,lValueRequested:!1,names:[null],type:"struct TimeCapsule.Capsule memory",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"},{typeIdentifier:"t_uint32",typeString:"uint32"},{typeIdentifier:"t_uint32",typeString:"uint32"},{typeIdentifier:"t_bool",typeString:"bool"}],overloadedDeclarations:[null],referencedDeclaration:77,type:"type(struct TimeCapsule.Capsule storage pointer)",value:"Capsule"},id:125,name:"Identifier",src:"772:7:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:112,type:"string memory",value:"_content"},id:126,name:"Identifier",src:"780:8:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:114,type:"string memory",value:"_tips"},id:127,name:"Identifier",src:"790:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"uint32",type_conversion:!0},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"type(uint32)",value:"uint32"},id:128,name:"ElementaryTypeNameExpression",src:"797:6:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:355,type:"uint256",value:"now"},id:129,name:"Identifier",src:"804:3:1"}],id:130,name:"FunctionCall",src:"797:11:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:116,type:"uint32",value:"_time"},id:131,name:"Identifier",src:"810:5:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:118,type:"bool",value:"_encrypt"},id:132,name:"Identifier",src:"817:8:1"}],id:133,name:"FunctionCall",src:"772:54:1"}],id:134,name:"FunctionCall",src:"758:69:1"},{attributes:{argumentTypes:null,hexvalue:"31",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 1",value:"1"},id:135,name:"Literal",src:"830:1:1"}],id:136,name:"BinaryOperation",src:"758:73:1"}],id:137,name:"VariableDeclarationStatement",src:"748:83:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"address"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:84,type:"mapping(uint256 => address)",value:"capsuleToOwner"},id:138,name:"Identifier",src:"841:14:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:122,type:"uint256",value:"id"},id:139,name:"Identifier",src:"856:2:1"}],id:140,name:"IndexAccess",src:"841:18:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:353,type:"msg",value:"msg"},id:141,name:"Identifier",src:"862:3:1"}],id:142,name:"MemberAccess",src:"862:10:1"}],id:143,name:"Assignment",src:"841:31:1"}],id:144,name:"ExpressionStatement",src:"841:31:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"++",prefix:!1,type:"uint256"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:88,type:"mapping(address => uint256)",value:"ownerCapsuleCount"},id:145,name:"Identifier",src:"882:17:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:353,type:"msg",value:"msg"},id:146,name:"Identifier",src:"900:3:1"}],id:147,name:"MemberAccess",src:"900:10:1"}],id:148,name:"IndexAccess",src:"882:29:1"}],id:149,name:"UnaryOperation",src:"882:31:1"}],id:150,name:"ExpressionStatement",src:"882:31:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"++",prefix:!1,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:91,type:"uint256",value:"randNonce"},id:151,name:"Identifier",src:"923:9:1"}],id:152,name:"UnaryOperation",src:"923:11:1"}],id:153,name:"ExpressionStatement",src:"923:11:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint32",typeString:"uint32"},{typeIdentifier:"t_bool",typeString:"bool"}],overloadedDeclarations:[null],referencedDeclaration:66,type:"function (uint256,uint32,bool)",value:"NewCapsule"},id:154,name:"Identifier",src:"944:10:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:122,type:"uint256",value:"id"},id:155,name:"Identifier",src:"955:2:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:116,type:"uint32",value:"_time"},id:156,name:"Identifier",src:"959:5:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:118,type:"bool",value:"_encrypt"},id:157,name:"Identifier",src:"966:8:1"}],id:158,name:"FunctionCall",src:"944:31:1"}],id:159,name:"ExpressionStatement",src:"944:31:1"}],id:160,name:"Block",src:"738:244:1"}],id:161,name:"FunctionDefinition",src:"655:327:1"},{attributes:{constant:!0,implemented:!0,isConstructor:!1,modifiers:[null],name:"dug",payable:!1,scope:341,stateMutability:"view",superFunction:null,visibility:"public"},children:[{attributes:{parameters:[null]},children:[],id:162,name:"ParameterList",src:"1000:2:1"},{children:[{attributes:{constant:!1,name:"code",scope:216,stateVariable:!1,storageLocation:"default",type:"uint8",value:null,visibility:"internal"},children:[{attributes:{name:"uint8",type:"uint8"},id:163,name:"ElementaryTypeName",src:"1024:5:1"}],id:164,name:"VariableDeclaration",src:"1024:10:1"},{attributes:{constant:!1,name:"content",scope:216,stateVariable:!1,storageLocation:"default",type:"string memory",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string storage pointer"},id:165,name:"ElementaryTypeName",src:"1036:6:1"}],id:166,name:"VariableDeclaration",src:"1036:14:1"},{attributes:{constant:!1,name:"time",scope:216,stateVariable:!1,storageLocation:"default",type:"uint32",value:null,visibility:"internal"},children:[{attributes:{name:"uint32",type:"uint32"},id:167,name:"ElementaryTypeName",src:"1052:6:1"}],id:168,name:"VariableDeclaration",src:"1052:11:1"}],id:169,name:"ParameterList",src:"1023:41:1"},{children:[{attributes:{assignments:[171]},children:[{attributes:{constant:!1,name:"rand",scope:216,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint",type:"uint256"},id:170,name:"ElementaryTypeName",src:"1118:4:1"}],id:171,name:"VariableDeclaration",src:"1118:9:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"uint256",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],overloadedDeclarations:[null],referencedDeclaration:110,type:"function (uint256) view returns (uint256)",value:"randMod"},id:172,name:"Identifier",src:"1130:7:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"length",referencedDeclaration:null,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:80,type:"struct TimeCapsule.Capsule storage ref[] storage ref",value:"capsules"},id:173,name:"Identifier",src:"1138:8:1"}],id:174,name:"MemberAccess",src:"1138:15:1"}],id:175,name:"FunctionCall",src:"1130:24:1"}],id:176,name:"VariableDeclarationStatement",src:"1118:36:1"},{attributes:{assignments:[178]},children:[{attributes:{constant:!1,name:"capsule",scope:216,stateVariable:!1,storageLocation:"memory",type:"struct TimeCapsule.Capsule memory",value:null,visibility:"internal"},children:[{attributes:{contractScope:null,name:"Capsule",referencedDeclaration:77,type:"struct TimeCapsule.Capsule storage pointer"},id:177,name:"UserDefinedTypeName",src:"1164:7:1"}],id:178,name:"VariableDeclaration",src:"1164:22:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct TimeCapsule.Capsule storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:80,type:"struct TimeCapsule.Capsule storage ref[] storage ref",value:"capsules"},id:179,name:"Identifier",src:"1189:8:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:171,type:"uint256",value:"rand"},id:180,name:"Identifier",src:"1198:4:1"}],id:181,name:"IndexAccess",src:"1189:14:1"}],id:182,name:"VariableDeclarationStatement",src:"1164:39:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"!",prefix:!0,type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"encrypt",referencedDeclaration:76,type:"bool"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:178,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:183,name:"Identifier",src:"1218:7:1"}],id:184,name:"MemberAccess",src:"1218:15:1"}],id:185,name:"UnaryOperation",src:"1217:16:1"},{children:[{children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"<",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"expireAt",referencedDeclaration:74,type:"uint32"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:178,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:186,name:"Identifier",src:"1253:7:1"}],id:187,name:"MemberAccess",src:"1253:16:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:355,type:"uint256",value:"now"},id:188,name:"Identifier",src:"1272:3:1"}],id:189,name:"BinaryOperation",src:"1253:22:1"},{children:[{attributes:{functionReturnParameters:169},children:[{attributes:{argumentTypes:null,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,type:"tuple(int_const 0,string memory,uint32)"},children:[{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:190,name:"Literal",src:"1303:1:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"content",referencedDeclaration:68,type:"string memory"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:178,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:191,name:"Identifier",src:"1306:7:1"}],id:192,name:"MemberAccess",src:"1306:15:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"createAt",referencedDeclaration:72,type:"uint32"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:178,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:193,name:"Identifier",src:"1323:7:1"}],id:194,name:"MemberAccess",src:"1323:16:1"}],id:195,name:"TupleExpression",src:"1302:38:1"}],id:196,name:"Return",src:"1295:45:1"}],id:197,name:"Block",src:"1277:78:1"},{children:[{attributes:{functionReturnParameters:169},children:[{attributes:{argumentTypes:null,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,type:"tuple(int_const 1,string memory,uint32)"},children:[{attributes:{argumentTypes:null,hexvalue:"31",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 1",value:"1"},id:198,name:"Literal",src:"1387:1:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"tips",referencedDeclaration:70,type:"string memory"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:178,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:199,name:"Identifier",src:"1390:7:1"}],id:200,name:"MemberAccess",src:"1390:12:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"expireAt",referencedDeclaration:74,type:"uint32"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:178,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:201,name:"Identifier",src:"1404:7:1"}],id:202,name:"MemberAccess",src:"1404:16:1"}],id:203,name:"TupleExpression",src:"1386:35:1"}],id:204,name:"Return",src:"1379:42:1"}],id:205,name:"Block",src:"1361:75:1"}],id:206,name:"IfStatement",src:"1249:187:1"}],id:207,name:"Block",src:"1235:211:1"},{children:[{attributes:{functionReturnParameters:169},children:[{attributes:{argumentTypes:null,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:'tuple(int_const 2,literal_string "加密胶囊",int_const 0)'},children:[{attributes:{argumentTypes:null,hexvalue:"32",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 2",value:"2"},id:208,name:"Literal",src:"1474:1:1"},{attributes:{argumentTypes:null,hexvalue:"e58aa0e5af86e883b6e59b8a",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"string",type:'literal_string "加密胶囊"',value:"加密胶囊"},id:209,name:"Literal",src:"1477:14:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:210,name:"Literal",src:"1493:1:1"}],id:211,name:"TupleExpression",src:"1473:22:1"}],id:212,name:"Return",src:"1466:29:1"}],id:213,name:"Block",src:"1452:54:1"}],id:214,name:"IfStatement",src:"1213:293:1"}],id:215,name:"Block",src:"1065:447:1"}],id:216,name:"FunctionDefinition",src:"988:524:1"},{attributes:{constant:!0,implemented:!0,isConstructor:!1,modifiers:[null],name:"getCapsuleById",payable:!1,scope:341,stateMutability:"view",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"_id",scope:284,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint",type:"uint256"},id:217,name:"ElementaryTypeName",src:"1542:4:1"}],id:218,name:"VariableDeclaration",src:"1542:8:1"}],id:219,name:"ParameterList",src:"1541:10:1"},{children:[{attributes:{constant:!1,name:"content",scope:284,stateVariable:!1,storageLocation:"default",type:"string memory",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string storage pointer"},id:220,name:"ElementaryTypeName",src:"1572:6:1"}],id:221,name:"VariableDeclaration",src:"1572:14:1"},{attributes:{constant:!1,name:"tips",scope:284,stateVariable:!1,storageLocation:"default",type:"string memory",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string storage pointer"},id:222,name:"ElementaryTypeName",src:"1588:6:1"}],id:223,name:"VariableDeclaration",src:"1588:11:1"},{attributes:{constant:!1,name:"createAt",scope:284,stateVariable:!1,storageLocation:"default",type:"uint32",value:null,visibility:"internal"},children:[{attributes:{name:"uint32",type:"uint32"},id:224,name:"ElementaryTypeName",src:"1601:6:1"}],id:225,name:"VariableDeclaration",src:"1601:15:1"},{attributes:{constant:!1,name:"expireAt",scope:284,stateVariable:!1,storageLocation:"default",type:"uint32",value:null,visibility:"internal"},children:[{attributes:{name:"uint32",type:"uint32"},id:226,name:"ElementaryTypeName",src:"1618:6:1"}],id:227,name:"VariableDeclaration",src:"1618:15:1"},{attributes:{constant:!1,name:"encrypt",scope:284,stateVariable:!1,storageLocation:"default",type:"bool",value:null,visibility:"internal"},children:[{attributes:{name:"bool",type:"bool"},id:228,name:"ElementaryTypeName",src:"1635:4:1"}],id:229,name:"VariableDeclaration",src:"1635:12:1"}],id:230,name:"ParameterList",src:"1571:77:1"},{children:[{children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"==",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:84,type:"mapping(uint256 => address)",value:"capsuleToOwner"},id:231,name:"Identifier",src:"1663:14:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:218,type:"uint256",value:"_id"},id:232,name:"Identifier",src:"1678:3:1"}],id:233,name:"IndexAccess",src:"1663:19:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:353,type:"msg",value:"msg"},id:234,name:"Identifier",src:"1686:3:1"}],id:235,name:"MemberAccess",src:"1686:10:1"}],id:236,name:"BinaryOperation",src:"1663:33:1"},{children:[{attributes:{assignments:[238]},children:[{attributes:{constant:!1,name:"capsule",scope:284,stateVariable:!1,storageLocation:"memory",type:"struct TimeCapsule.Capsule memory",value:null,visibility:"internal"},children:[{attributes:{contractScope:null,name:"Capsule",referencedDeclaration:77,type:"struct TimeCapsule.Capsule storage pointer"},id:237,name:"UserDefinedTypeName",src:"1712:7:1"}],id:238,name:"VariableDeclaration",src:"1712:22:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct TimeCapsule.Capsule storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:80,type:"struct TimeCapsule.Capsule storage ref[] storage ref",value:"capsules"},id:239,name:"Identifier",src:"1737:8:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:218,type:"uint256",value:"_id"},id:240,name:"Identifier",src:"1746:3:1"}],id:241,name:"IndexAccess",src:"1737:13:1"}],id:242,name:"VariableDeclarationStatement",src:"1712:38:1"},{children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"<",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"expireAt",referencedDeclaration:74,type:"uint32"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:238,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:243,name:"Identifier",src:"1768:7:1"}],id:244,name:"MemberAccess",src:"1768:16:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:355,type:"uint256",value:"now"},id:245,name:"Identifier",src:"1787:3:1"}],id:246,name:"BinaryOperation",src:"1768:22:1"},{children:[{attributes:{functionReturnParameters:230},children:[{attributes:{argumentTypes:null,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,type:"tuple(string memory,string memory,uint32,uint32,bool)"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"content",referencedDeclaration:68,type:"string memory"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:238,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:247,name:"Identifier",src:"1818:7:1"}],id:248,name:"MemberAccess",src:"1818:15:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"tips",referencedDeclaration:70,type:"string memory"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:238,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:249,name:"Identifier",src:"1835:7:1"}],id:250,name:"MemberAccess",src:"1835:12:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"createAt",referencedDeclaration:72,type:"uint32"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:238,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:251,name:"Identifier",src:"1849:7:1"}],id:252,name:"MemberAccess",src:"1849:16:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"expireAt",referencedDeclaration:74,type:"uint32"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:238,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:253,name:"Identifier",src:"1867:7:1"}],id:254,name:"MemberAccess",src:"1867:16:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"encrypt",referencedDeclaration:76,type:"bool"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:238,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:255,name:"Identifier",src:"1885:7:1"}],id:256,name:"MemberAccess",src:"1885:15:1"}],id:257,name:"TupleExpression",src:"1817:84:1"}],id:258,name:"Return",src:"1810:91:1"}],id:259,name:"Block",src:"1792:124:1"},{children:[{attributes:{functionReturnParameters:230},children:[{attributes:{argumentTypes:null,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,type:'tuple(literal_string "",string memory,uint32,uint32,bool)'},children:[{attributes:{argumentTypes:null,hexvalue:"",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"string",type:'literal_string ""',value:""},id:260,name:"Literal",src:"1948:2:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"tips",referencedDeclaration:70,type:"string memory"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:238,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:261,name:"Identifier",src:"1952:7:1"}],id:262,name:"MemberAccess",src:"1952:12:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"createAt",referencedDeclaration:72,type:"uint32"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:238,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:263,name:"Identifier",src:"1966:7:1"}],id:264,name:"MemberAccess",src:"1966:16:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"expireAt",referencedDeclaration:74,type:"uint32"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:238,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:265,name:"Identifier",src:"1984:7:1"}],id:266,name:"MemberAccess",src:"1984:16:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"encrypt",referencedDeclaration:76,type:"bool"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:238,type:"struct TimeCapsule.Capsule memory",value:"capsule"},id:267,name:"Identifier",src:"2002:7:1"}],id:268,name:"MemberAccess",src:"2002:15:1"}],id:269,name:"TupleExpression",src:"1947:71:1"}],id:270,name:"Return",src:"1940:78:1"}],id:271,name:"Block",src:"1922:111:1"}],id:272,name:"IfStatement",src:"1764:269:1"}],id:273,name:"Block",src:"1698:345:1"},{children:[{attributes:{functionReturnParameters:230},children:[{attributes:{argumentTypes:null,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:'tuple(literal_string "",literal_string "",int_const 0,int_const 0,bool)'},children:[{attributes:{argumentTypes:null,hexvalue:"",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"string",type:'literal_string ""',value:""},id:274,name:"Literal",src:"2071:2:1"},{attributes:{argumentTypes:null,hexvalue:"",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"string",type:'literal_string ""',value:""},id:275,name:"Literal",src:"2075:2:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:276,name:"Literal",src:"2079:1:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:277,name:"Literal",src:"2082:1:1"},{attributes:{argumentTypes:null,hexvalue:"66616c7365",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"bool",type:"bool",value:"false"},id:278,name:"Literal",src:"2085:5:1"}],id:279,name:"TupleExpression",src:"2070:21:1"}],id:280,name:"Return",src:"2063:28:1"}],id:281,name:"Block",src:"2049:53:1"}],id:282,name:"IfStatement",src:"1659:443:1"}],id:283,name:"Block",src:"1649:459:1"}],id:284,name:"FunctionDefinition",src:"1518:590:1"},{attributes:{constant:!0,implemented:!0,isConstructor:!1,modifiers:[null],name:"getAllCapsules",payable:!1,scope:341,stateMutability:"view",superFunction:null,visibility:"public"},children:[{attributes:{parameters:[null]},children:[],id:285,name:"ParameterList",src:"2137:2:1"},{children:[{attributes:{constant:!1,name:"",scope:340,stateVariable:!1,storageLocation:"default",type:"uint256[] memory",value:null,visibility:"internal"},children:[{attributes:{length:null,type:"uint256[] storage pointer"},children:[{attributes:{name:"uint",type:"uint256"},id:286,name:"ElementaryTypeName",src:"2160:4:1"}],id:287,name:"ArrayTypeName",src:"2160:6:1"}],id:288,name:"VariableDeclaration",src:"2160:6:1"}],id:289,name:"ParameterList",src:"2159:8:1"},{children:[{attributes:{assignments:[293]},children:[{attributes:{constant:!1,name:"result",scope:340,stateVariable:!1,storageLocation:"memory",type:"uint256[] memory",value:null,visibility:"internal"},children:[{attributes:{length:null,type:"uint256[] storage pointer"},children:[{attributes:{name:"uint",type:"uint256"},id:291,name:"ElementaryTypeName",src:"2178:4:1"}],id:292,name:"ArrayTypeName",src:"2178:6:1"}],id:293,name:"VariableDeclaration",src:"2178:20:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"uint256[] memory",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"function (uint256) pure returns (uint256[] memory)"},children:[{attributes:{length:null,type:"uint256[] storage pointer"},children:[{attributes:{name:"uint",type:"uint256"},id:294,name:"ElementaryTypeName",src:"2205:4:1"}],id:295,name:"ArrayTypeName",src:"2205:6:1"}],id:296,name:"NewExpression",src:"2201:10:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:88,type:"mapping(address => uint256)",value:"ownerCapsuleCount"},id:297,name:"Identifier",src:"2212:17:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:353,type:"msg",value:"msg"},id:298,name:"Identifier",src:"2230:3:1"}],id:299,name:"MemberAccess",src:"2230:10:1"}],id:300,name:"IndexAccess",src:"2212:29:1"}],id:301,name:"FunctionCall",src:"2201:41:1"}],id:302,name:"VariableDeclarationStatement",src:"2178:64:1"},{attributes:{assignments:[304]},children:[{attributes:{constant:!1,name:"counter",scope:340,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint",type:"uint256"},id:303,name:"ElementaryTypeName",src:"2252:4:1"}],id:304,name:"VariableDeclaration",src:"2252:12:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:305,name:"Literal",src:"2267:1:1"}],id:306,name:"VariableDeclarationStatement",src:"2252:16:1"},{children:[{attributes:{assignments:[308]},children:[{attributes:{constant:!1,name:"i",scope:340,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint",type:"uint256"},id:307,name:"ElementaryTypeName",src:"2283:4:1"}],id:308,name:"VariableDeclaration",src:"2283:6:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:309,name:"Literal",src:"2292:1:1"}],id:310,name:"VariableDeclarationStatement",src:"2283:10:1"},{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"<",type:"bool"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:308,type:"uint256",value:"i"},id:311,name:"Identifier",src:"2295:1:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"length",referencedDeclaration:null,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:80,type:"struct TimeCapsule.Capsule storage ref[] storage ref",value:"capsules"},id:312,name:"Identifier",src:"2299:8:1"}],id:313,name:"MemberAccess",src:"2299:15:1"}],id:314,name:"BinaryOperation",src:"2295:19:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"++",prefix:!1,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:308,type:"uint256",value:"i"},id:315,name:"Identifier",src:"2316:1:1"}],id:316,name:"UnaryOperation",src:"2316:3:1"}],id:317,name:"ExpressionStatement",src:"2316:3:1"},{children:[{attributes:{falseBody:null},children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"==",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:84,type:"mapping(uint256 => address)",value:"capsuleToOwner"},id:318,name:"Identifier",src:"2339:14:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:308,type:"uint256",value:"i"},id:319,name:"Identifier",src:"2354:1:1"}],id:320,name:"IndexAccess",src:"2339:17:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:353,type:"msg",value:"msg"},id:321,name:"Identifier",src:"2360:3:1"}],id:322,name:"MemberAccess",src:"2360:10:1"}],id:323,name:"BinaryOperation",src:"2339:31:1"},{children:[{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"uint256"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:293,type:"uint256[] memory",value:"result"},id:324,name:"Identifier",src:"2390:6:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:304,type:"uint256",value:"counter"},id:325,name:"Identifier",src:"2397:7:1"}],id:326,name:"IndexAccess",src:"2390:15:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:308,type:"uint256",value:"i"},id:327,name:"Identifier",src:"2408:1:1"}],id:328,name:"Assignment",src:"2390:19:1"}],id:329,name:"ExpressionStatement",src:"2390:19:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"++",prefix:!1,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:304,type:"uint256",value:"counter"},id:330,name:"Identifier",src:"2427:7:1"}],id:331,name:"UnaryOperation",src:"2427:9:1"}],id:332,name:"ExpressionStatement",src:"2427:9:1"}],id:333,name:"Block",src:"2372:79:1"}],id:334,name:"IfStatement",src:"2335:116:1"}],id:335,name:"Block",src:"2321:140:1"}],id:336,name:"ForStatement",src:"2278:183:1"},{attributes:{functionReturnParameters:289},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:293,type:"uint256[] memory",value:"result"},id:337,name:"Identifier",src:"2477:6:1"}],id:338,name:"Return",src:"2470:13:1"}],id:339,name:"Block",src:"2168:322:1"}],id:340,name:"FunctionDefinition",src:"2114:376:1"}],id:341,name:"ContractDefinition",src:"26:2466:1"}],id:342,name:"SourceUnit",src:"0:2493:1"},compiler:{name:"solc",version:"0.4.19+commit.c4cbbb05.Emscripten.clang"},networks:{5777:{events:{},links:{},address:"0x345ca3e014aaf5dca488057592ee47305d9b3e10"}},schemaVersion:"1.0.1",updatedAt:"2018-03-12T09:47:51.641Z"}},oGFv:function(e,t){var n=function(e){var t=new Date(1e3*parseInt(e));return t=t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日",t};e.exports={formatTime:n}},tvR6:function(e,t){},vCto:function(e,t){e.exports=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"name",outputs:[{name:"o_name",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"subRegistrar",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_registrar",type:"address"}],name:"setSubRegistrar",outputs:[],type:"function"},{constant:!1,inputs:[],name:"Registrar",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"},{name:"_primary",type:"bool"}],name:"setAddress",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_content",type:"bytes32"}],name:"setContent",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"disown",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_winner",type:"address"}],name:"AuctionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_bidder",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"NewBid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"},{indexed:!0,name:"addr",type:"address"}],name:"PrimaryChanged",type:"event"}]},zIqh:function(e,t){e.exports=[{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_refund",type:"address"}],name:"disown",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"}],name:"setAddr",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"}]}},[0]);
//# sourceMappingURL=app.4b175c46.js.map